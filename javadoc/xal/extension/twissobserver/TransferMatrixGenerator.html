<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_31) on Thu Feb 05 15:44:32 EST 2015 -->
<title>TransferMatrixGenerator</title>
<meta name="date" content="2015-02-05">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TransferMatrixGenerator";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../xal/extension/twissobserver/PHASEPLANE.html" title="enum in xal.extension.twissobserver"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../xal/extension/twissobserver/TransferMatrixGenerator.SYNC.html" title="enum in xal.extension.twissobserver"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?xal/extension/twissobserver/TransferMatrixGenerator.html" target="_top">Frames</a></li>
<li><a href="TransferMatrixGenerator.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">xal.extension.twissobserver</div>
<h2 title="Class TransferMatrixGenerator" class="title">Class TransferMatrixGenerator</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>xal.extension.twissobserver.TransferMatrixGenerator</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">TransferMatrixGenerator</span>
extends java.lang.Object</pre>
<div class="block"><p>
 Class for generating transfer matrices for the XAL accelerator beamlines. For economic
 reasons the simulation is first run using methods <a href="../../../xal/extension/twissobserver/TransferMatrixGenerator.html#generateWithoutSpaceCharge--"><code>generateWithoutSpaceCharge()</code></a>
 for the zero-current case or <a href="../../../xal/extension/twissobserver/TransferMatrixGenerator.html#generateWithSpaceCharge-double-double-xal.tools.beam.CovarianceMatrix-"><code>generateWithSpaceCharge(double, double, CovarianceMatrix)</code></a>
 for the finite beam current case.  Once the simulation is completed transfer
 matrices between any two beamline elements may be retrieved with the method
 <a href="../../../xal/extension/twissobserver/TransferMatrixGenerator.html#retrieveTransferMatrix-java.lang.String-java.lang.String-"><code>retrieveTransferMatrix(String, String)</code></a>.  Note that when space charge is
 present an initial covariance matrix for the beam must be supplied.  The matrix
 describes the beam sizes at the entrance to the beamline. 
 </p></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>June 8, 2012</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/extension/twissobserver/TransferMatrixGenerator.SYNC.html" title="enum in xal.extension.twissobserver">TransferMatrixGenerator.SYNC</a></span></code>
<div class="block">Enumeration set representing the possible synchronization modes of the
 <code><a href="../../../xal/sim/scenario/Scenario.html" title="class in xal.sim.scenario"><code>Scenario</code></a></code> class.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../xal/extension/twissobserver/TransferMatrixGenerator.html#TransferMatrixGenerator-xal.smf.AcceleratorSeq-">TransferMatrixGenerator</a></span>(<a href="../../../xal/smf/AcceleratorSeq.html" title="class in xal.smf">AcceleratorSeq</a>&nbsp;smfSeq)</code>
<div class="block">Creates a new <code>TransferMatrixGenerator</code> object using the 
 given sequence, and synchronizes to the design parameters.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../xal/extension/twissobserver/TransferMatrixGenerator.html#TransferMatrixGenerator-xal.smf.AcceleratorSeq-long-">TransferMatrixGenerator</a></span>(<a href="../../../xal/smf/AcceleratorSeq.html" title="class in xal.smf">AcceleratorSeq</a>&nbsp;smfSeq,
                       long&nbsp;lngPvLogId)</code>
<div class="block">Creates a new <code>TransferMatrixGenerator</code> object using 
 the given sequence, initializes the model to the historical machine state identified
 by the given PV Logger ID.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../xal/extension/twissobserver/TransferMatrixGenerator.html#TransferMatrixGenerator-xal.smf.AcceleratorSeq-xal.extension.twissobserver.TransferMatrixGenerator.SYNC-">TransferMatrixGenerator</a></span>(<a href="../../../xal/smf/AcceleratorSeq.html" title="class in xal.smf">AcceleratorSeq</a>&nbsp;smfSeq,
                       <a href="../../../xal/extension/twissobserver/TransferMatrixGenerator.SYNC.html" title="enum in xal.extension.twissobserver">TransferMatrixGenerator.SYNC</a>&nbsp;enmSyn)</code>
<div class="block">Creates a new <code>TransferMatrixGenerator</code> object using the given accelerator (XML definition file)
 accelerator, the given sequence, and the given synchronization mode.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/extension/twissobserver/TransferMatrixGenerator.html#generateWithoutSpaceCharge--">generateWithoutSpaceCharge</a></span>()</code>
<div class="block">
 Generates all the transfer matrices for the zero-current
 case.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/extension/twissobserver/TransferMatrixGenerator.html#generateWithSpaceCharge-double-double-xal.tools.beam.CovarianceMatrix-">generateWithSpaceCharge</a></span>(double&nbsp;dblBnchFreq,
                       double&nbsp;dblBeamCurr,
                       <a href="../../../xal/tools/beam/CovarianceMatrix.html" title="class in xal.tools.beam">CovarianceMatrix</a>&nbsp;matInitState)</code>
<div class="block">
 Generates all the transfer matrices including space 
 charge effects.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/extension/twissobserver/TransferMatrixGenerator.html#generateWithSpaceCharge-java.lang.String-double-double-xal.tools.beam.CovarianceMatrix-">generateWithSpaceCharge</a></span>(java.lang.String&nbsp;strDevIdStart,
                       double&nbsp;dblBnchFreq,
                       double&nbsp;dblBeamCurr,
                       <a href="../../../xal/tools/beam/CovarianceMatrix.html" title="class in xal.tools.beam">CovarianceMatrix</a>&nbsp;matInitState)</code>
<div class="block">
 Generates all the transfer matrices when there are significant space
 charge effects.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../xal/tools/beam/PhaseMatrix.html" title="class in xal.tools.beam">PhaseMatrix</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/extension/twissobserver/TransferMatrixGenerator.html#retrieveTransferMatrix-java.lang.String-">retrieveTransferMatrix</a></span>(java.lang.String&nbsp;strElemStop)</code>
<div class="block">Compute and return the transfer matrix from the beginning 
 of the current accelerator sequence to the entrance of the given element.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../xal/tools/beam/PhaseMatrix.html" title="class in xal.tools.beam">PhaseMatrix</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/extension/twissobserver/TransferMatrixGenerator.html#retrieveTransferMatrix-java.lang.String-java.lang.String-">retrieveTransferMatrix</a></span>(java.lang.String&nbsp;strElemStart,
                      java.lang.String&nbsp;strElemStop)</code>
<div class="block">Compute and return the transfer matrix from the entrance of the given starting element
 to the entrance of the given stop element (within the current accelerator sequence).</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/extension/twissobserver/TransferMatrixGenerator.html#setSynchronizationMode-xal.extension.twissobserver.TransferMatrixGenerator.SYNC-">setSynchronizationMode</a></span>(<a href="../../../xal/extension/twissobserver/TransferMatrixGenerator.SYNC.html" title="enum in xal.extension.twissobserver">TransferMatrixGenerator.SYNC</a>&nbsp;enmSync)</code>
<div class="block">Sets the source of hardware parameters for the simulations.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/extension/twissobserver/TransferMatrixGenerator.html#setSyncToMachineHistory-long-">setSyncToMachineHistory</a></span>(long&nbsp;lngPvLogId)</code>
<div class="block">Synchronizes to the machine parameters at the time of the given PV logger
 snapshot ID.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TransferMatrixGenerator-xal.smf.AcceleratorSeq-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TransferMatrixGenerator</h4>
<pre>public&nbsp;TransferMatrixGenerator(<a href="../../../xal/smf/AcceleratorSeq.html" title="class in xal.smf">AcceleratorSeq</a>&nbsp;smfSeq)
                        throws <a href="../../../xal/model/ModelException.html" title="class in xal.model">ModelException</a></pre>
<div class="block">Creates a new <code>TransferMatrixGenerator</code> object using the 
 given sequence, and synchronizes to the design parameters.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>smfSeq</code> - the desired sequence for transfer matrix computation</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../xal/model/ModelException.html" title="class in xal.model">ModelException</a></code> - and error occurred when instantiating the machine model</dd>
</dl>
</li>
</ul>
<a name="TransferMatrixGenerator-xal.smf.AcceleratorSeq-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TransferMatrixGenerator</h4>
<pre>public&nbsp;TransferMatrixGenerator(<a href="../../../xal/smf/AcceleratorSeq.html" title="class in xal.smf">AcceleratorSeq</a>&nbsp;smfSeq,
                               long&nbsp;lngPvLogId)
                        throws <a href="../../../xal/model/ModelException.html" title="class in xal.model">ModelException</a></pre>
<div class="block">Creates a new <code>TransferMatrixGenerator</code> object using 
 the given sequence, initializes the model to the historical machine state identified
 by the given PV Logger ID.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>smfSeq</code> - the desired sequence for transfer matrix computation</dd>
<dd><code>lngPvLogId</code> - PV Logger ID of the historical machine snapshot where model parameters are taken</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../xal/model/ModelException.html" title="class in xal.model">ModelException</a></code> - and error occurred when instantiating the machine model</dd>
</dl>
</li>
</ul>
<a name="TransferMatrixGenerator-xal.smf.AcceleratorSeq-xal.extension.twissobserver.TransferMatrixGenerator.SYNC-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TransferMatrixGenerator</h4>
<pre>public&nbsp;TransferMatrixGenerator(<a href="../../../xal/smf/AcceleratorSeq.html" title="class in xal.smf">AcceleratorSeq</a>&nbsp;smfSeq,
                               <a href="../../../xal/extension/twissobserver/TransferMatrixGenerator.SYNC.html" title="enum in xal.extension.twissobserver">TransferMatrixGenerator.SYNC</a>&nbsp;enmSyn)
                        throws <a href="../../../xal/model/ModelException.html" title="class in xal.model">ModelException</a></pre>
<div class="block">Creates a new <code>TransferMatrixGenerator</code> object using the given accelerator (XML definition file)
 accelerator, the given sequence, and the given synchronization mode.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>smfSeq</code> - the desired sequence for transfer matrix computation</dd>
<dd><code>enmSyn</code> - source of machine parameters</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../xal/model/ModelException.html" title="class in xal.model">ModelException</a></code> - and error occurred when instantiating the machine model or a component</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setSynchronizationMode-xal.extension.twissobserver.TransferMatrixGenerator.SYNC-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSynchronizationMode</h4>
<pre>public&nbsp;void&nbsp;setSynchronizationMode(<a href="../../../xal/extension/twissobserver/TransferMatrixGenerator.SYNC.html" title="enum in xal.extension.twissobserver">TransferMatrixGenerator.SYNC</a>&nbsp;enmSync)
                            throws <a href="../../../xal/sim/sync/SynchronizationException.html" title="class in xal.sim.sync">SynchronizationException</a></pre>
<div class="block">Sets the source of hardware parameters for the simulations.  The given
 synchronization mode determines where this parameters are taken from (e.g., the live machine,
 the design parameters, etc.).  It is also possible to synchronize the hardware
 parameters to a historical machine state with a know PV Logger ID 
 (see <code><a href="../../../xal/extension/twissobserver/TransferMatrixGenerator.html#setSyncToMachineHistory-long-"><code>setSyncToMachineHistory(long)</code></a></code>).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>enmSync</code> - synchronization mode determining parameter source</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../xal/sim/sync/SynchronizationException.html" title="class in xal.sim.sync">SynchronizationException</a></code> - general error during model synchronization</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>Jul 19, 2012</dd>
</dl>
</li>
</ul>
<a name="setSyncToMachineHistory-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSyncToMachineHistory</h4>
<pre>public&nbsp;void&nbsp;setSyncToMachineHistory(long&nbsp;lngPvLogId)
                             throws <a href="../../../xal/sim/sync/SynchronizationException.html" title="class in xal.sim.sync">SynchronizationException</a></pre>
<div class="block">Synchronizes to the machine parameters at the time of the given PV logger
 snapshot ID.  The transfer matrices provided will be from this machine state.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>lngPvLogId</code> - PV Logger ID for the historical machine state</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../xal/sim/sync/SynchronizationException.html" title="class in xal.sim.sync">SynchronizationException</a></code> - general error during model synchronization</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>Jul 19, 2012</dd>
</dl>
</li>
</ul>
<a name="generateWithoutSpaceCharge--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generateWithoutSpaceCharge</h4>
<pre>public&nbsp;void&nbsp;generateWithoutSpaceCharge()
                                throws <a href="../../../xal/model/ModelException.html" title="class in xal.model">ModelException</a></pre>
<div class="block"><p>
 Generates all the transfer matrices for the zero-current
 case.  The model is run using a transfer map probe which only
 collects machine data.
 </p>
 <p>
 <h4>NOTE:</h4>
 &middot; This simulation always starts with the first element in the sequence
 since the transfer matrices are not dependent upon beam state.
 </p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../xal/model/ModelException.html" title="class in xal.model">ModelException</a></code> - general error during model synchronization or simulation</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>Jul 26, 2012</dd>
</dl>
</li>
</ul>
<a name="generateWithSpaceCharge-double-double-xal.tools.beam.CovarianceMatrix-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generateWithSpaceCharge</h4>
<pre>public&nbsp;void&nbsp;generateWithSpaceCharge(double&nbsp;dblBnchFreq,
                                    double&nbsp;dblBeamCurr,
                                    <a href="../../../xal/tools/beam/CovarianceMatrix.html" title="class in xal.tools.beam">CovarianceMatrix</a>&nbsp;matInitState)
                             throws <a href="../../../xal/model/ModelException.html" title="class in xal.model">ModelException</a></pre>
<div class="block"><p>
 Generates all the transfer matrices including space 
 charge effects.  The simulation is performed with the given bunch charge
 and the initial beam state at the entrance to the associated accelerator
 sequence.     
 </p>
 <p>
 This methods is a direct proxy to 
 <code><code>#generateWithSpaceCharge(String, double, CovarianceMatrix)</code></code>
 using <code>null</code> as the first argument.
 </p>
 <p>
 <h4>NOTE</h4>
 &middot; Bunch charge (the target parameter) is given by beam current divided
 by bunch frequency.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dblBnchFreq</code> - bunch arrival frequency (in Hz)</dd>
<dd><code>dblBeamCurr</code> - beam current (in Amperes)</dd>
<dd><code>matInitState</code> - initial state of the beam, initial covariance matrix</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../xal/model/ModelException.html" title="class in xal.model">ModelException</a></code> - general error during model synchronization or simulation</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>Mar 28, 2013</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>#generateWithSpaceCharge(String, double, CovarianceMatrix)</code></dd>
</dl>
</li>
</ul>
<a name="generateWithSpaceCharge-java.lang.String-double-double-xal.tools.beam.CovarianceMatrix-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generateWithSpaceCharge</h4>
<pre>public&nbsp;void&nbsp;generateWithSpaceCharge(java.lang.String&nbsp;strDevIdStart,
                                    double&nbsp;dblBnchFreq,
                                    double&nbsp;dblBeamCurr,
                                    <a href="../../../xal/tools/beam/CovarianceMatrix.html" title="class in xal.tools.beam">CovarianceMatrix</a>&nbsp;matInitState)
                             throws <a href="../../../xal/model/ModelException.html" title="class in xal.model">ModelException</a></pre>
<div class="block"><p>
 Generates all the transfer matrices when there are significant space
 charge effects.  The simulation is performed with the given bunch charge
 and the initial beam state at the given element location.  Thus, the given
 probe state corresponds to the given element.  
 </p>
 <p>
 There is a self-consistency issue between the space charge 
 effects and the beam size.  Thus, the transfer matrices will typically be 
 different for different starting configurations of the beam.
 </p>
 <p>
 <h4>NOTE:</h4>
 &middot; Bunch charge <i>Q</i> is given by beam current <i>I</i> divided by
          bunch frequency <i>f</i>.  Specifically, <i>Q</i> = <i>I</i>/<i>f</i>.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>strDevIdStart</code> - ID of device with which to start the simulation,
                         or <code>null</code> for the beginning of the sequence</dd>
<dd><code>dblBnchChg</code> - beam bunch charge in Coulombs</dd>
<dd><code>matInitState</code> - initial state of the beam, initial covariance matrix</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../xal/model/ModelException.html" title="class in xal.model">ModelException</a></code> - general error during model synchronization or simulation</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>Jul 26, 2012</dd>
</dl>
</li>
</ul>
<a name="retrieveTransferMatrix-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>retrieveTransferMatrix</h4>
<pre>public&nbsp;<a href="../../../xal/tools/beam/PhaseMatrix.html" title="class in xal.tools.beam">PhaseMatrix</a>&nbsp;retrieveTransferMatrix(java.lang.String&nbsp;strElemStop)
                                   throws java.lang.IllegalStateException</pre>
<div class="block">Compute and return the transfer matrix from the beginning 
 of the current accelerator sequence to the entrance of the given element.
 This method is viable only after a call to methods 
 <code><a href="../../../xal/extension/twissobserver/TransferMatrixGenerator.html#generateWithoutSpaceCharge--"><code>generateWithoutSpaceCharge()</code></a></code> or 
 <code><code>#generateWithSpaceCharge(String, double, CovarianceMatrix)</code></code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>strElemStop</code> - string identifier of the terminal element</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>beam optics transfer matrix for the beam line up to the given element</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - The transfer matrices have not been generated yet</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>Jul 27, 2012</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../xal/extension/twissobserver/TransferMatrixGenerator.html#generateWithoutSpaceCharge--"><code>generateWithoutSpaceCharge()</code></a>, 
<code>#generateWithSpaceCharge(String, double, CovarianceMatrix)</code></dd>
</dl>
</li>
</ul>
<a name="retrieveTransferMatrix-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>retrieveTransferMatrix</h4>
<pre>public&nbsp;<a href="../../../xal/tools/beam/PhaseMatrix.html" title="class in xal.tools.beam">PhaseMatrix</a>&nbsp;retrieveTransferMatrix(java.lang.String&nbsp;strElemStart,
                                          java.lang.String&nbsp;strElemStop)
                                   throws java.lang.IllegalStateException</pre>
<div class="block">Compute and return the transfer matrix from the entrance of the given starting element
 to the entrance of the given stop element (within the current accelerator sequence).
 This method is viable only after a call to methods 
 <code><a href="../../../xal/extension/twissobserver/TransferMatrixGenerator.html#generateWithoutSpaceCharge--"><code>generateWithoutSpaceCharge()</code></a></code> or 
 <code><code>#generateWithSpaceCharge(String, double, CovarianceMatrix)</code></code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>strElemStart</code> - string identifier of the starting element</dd>
<dd><code>strElemStop</code> - string identifier of the terminal element</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>beam optics transfer matrix for the beam line up to the given element</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - The transfer matrices have not been generated yet</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>Jul 18, 2012</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../xal/extension/twissobserver/TransferMatrixGenerator.html#generateWithoutSpaceCharge--"><code>generateWithoutSpaceCharge()</code></a>, 
<code>#generateWithSpaceCharge(String, double, CovarianceMatrix)</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../xal/extension/twissobserver/PHASEPLANE.html" title="enum in xal.extension.twissobserver"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../xal/extension/twissobserver/TransferMatrixGenerator.SYNC.html" title="enum in xal.extension.twissobserver"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?xal/extension/twissobserver/TransferMatrixGenerator.html" target="_top">Frames</a></li>
<li><a href="TransferMatrixGenerator.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
