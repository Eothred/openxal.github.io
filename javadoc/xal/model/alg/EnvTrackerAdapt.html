<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_31) on Thu Feb 05 15:44:25 EST 2015 -->
<title>EnvTrackerAdapt</title>
<meta name="date" content="2015-02-05">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="EnvTrackerAdapt";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../xal/model/alg/EnvelopeTrackerPmqDipole.html" title="class in xal.model.alg"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../xal/model/alg/ParticleTracker.html" title="class in xal.model.alg"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?xal/model/alg/EnvTrackerAdapt.html" target="_top">Frames</a></li>
<li><a href="EnvTrackerAdapt.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.xal.model.alg.EnvelopeTrackerBase">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">xal.model.alg</div>
<h2 title="Class EnvTrackerAdapt" class="title">Class EnvTrackerAdapt</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../xal/model/alg/Tracker.html" title="class in xal.model.alg">xal.model.alg.Tracker</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../xal/model/alg/EnvelopeTrackerBase.html" title="class in xal.model.alg">xal.model.alg.EnvelopeTrackerBase</a></li>
<li>
<ul class="inheritance">
<li>xal.model.alg.EnvTrackerAdapt</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.rmi.Remote, <a href="../../../xal/model/IAlgorithm.html" title="interface in xal.model">IAlgorithm</a>, <a href="../../../xal/tools/data/IArchive.html" title="interface in xal.tools.data">IArchive</a>, <a href="../../../xal/tools/data/IContextAware.html" title="interface in xal.tools.data">IContextAware</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">EnvTrackerAdapt</span>
extends <a href="../../../xal/model/alg/EnvelopeTrackerBase.html" title="class in xal.model.alg">EnvelopeTrackerBase</a></pre>
<div class="block"><p>
 Tracking algorithm for <code>EnvelopeProbe</code>'s.  The <code>EnvelopeProbe</code>'s
 state, which is a <code>CovarianceMatrix</code> object, is advanced using the linear
 dynamics portion of any beamline element (<code>IElement</code> exposing object) transfer
 map.  The linear portion is represented as a matrix, thus, the state advance is accomplished
 with a transpose conjugation with this matrix.
 </p>
 <p>
 The effects of space charge are also included in the dynamics calculations.  Space charge
 effects are also represented with a matrix transpose conjugation, however, the matrix is
 computed using the values of the probe's correlation matrix.  The result is a nonlinear
 effect.  The space charge forces are computed using a linear fit to the fields generated by
 an ellipsoidal charge distribution with the same statistics described in the probe's 
 correlation matrix.  The linear fit is weighted by the beam distribution itself, so it is 
 more accurate in regions of higher charged density.  For a complete description see the reference
 below.
 </p>
 <p>
 This algorithm uses a second-order accurate, adaptive step sizing algorithm where the step
 size is continually adjusted to maintain an given error tolerance in the residual.
 </p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../xal/tools/beam/em/BeamEllipsoid.html" title="class in xal.tools.beam.em"><code>BeamEllipsoid</code></a>, 
<a href="http://lib-www.lanl.gov/cgi-bin/getfile?00796950.pdf">Theory and Technique
      of Beam Envelope Simulation</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.xal.model.alg.EnvelopeTrackerBase">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;xal.model.alg.<a href="../../../xal/model/alg/EnvelopeTrackerBase.html" title="class in xal.model.alg">EnvelopeTrackerBase</a></h3>
<code><a href="../../../xal/model/alg/EnvelopeTrackerBase.EmitGrowthModel.html" title="enum in xal.model.alg">EnvelopeTrackerBase.EmitGrowthModel</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.PhasePlane.html" title="enum in xal.model.alg">EnvelopeTrackerBase.PhasePlane</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#ACCUR_ERROR">ACCUR_ERROR</a></span></code>
<div class="block">Error condition in integration accuracy</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#ACCUR_ORDER1">ACCUR_ORDER1</a></span></code>
<div class="block">1st order accurate integration algorithm</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#ACCUR_ORDER2">ACCUR_ORDER2</a></span></code>
<div class="block">2nd order accurate integration algorithm</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#ACCUR_RANGE">ACCUR_RANGE</a></span></code>
<div class="block">Range of avaible integration accuracies</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#NORM_L1">NORM_L1</a></span></code>
<div class="block">l-1 norm</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#NORM_L2">NORM_L2</a></span></code>
<div class="block">l-2 norm</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#NORM_LINF">NORM_LINF</a></span></code>
<div class="block">l-infinity norm</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.Class&lt;<a href="../../../xal/model/probe/EnvelopeProbe.html" title="class in xal.model.probe">EnvelopeProbe</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#s_clsProbeType">s_clsProbeType</a></span></code>
<div class="block">probe type recognized by this algorithm</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#s_intVersion">s_intVersion</a></span></code>
<div class="block">current algorithm version</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#s_strTypeId">s_strTypeId</a></span></code>
<div class="block">string type identifier for algorithm</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.xal.model.alg.EnvelopeTrackerBase">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;xal.model.alg.<a href="../../../xal/model/alg/EnvelopeTrackerBase.html" title="class in xal.model.alg">EnvelopeTrackerBase</a></h3>
<code><a href="../../../xal/model/alg/EnvelopeTrackerBase.html#ATTR_EMITGROWTH">ATTR_EMITGROWTH</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.html#ATTR_SCHEFF">ATTR_SCHEFF</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.html#ATTR_STEPSIZE">ATTR_STEPSIZE</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.html#ATTR_USESPACECHARGE">ATTR_USESPACECHARGE</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.html#LABEL_OPTIONS">LABEL_OPTIONS</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.html#TBL_LBL_ENVBASETRACKER">TBL_LBL_ENVBASETRACKER</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.xal.model.alg.Tracker">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;xal.model.alg.<a href="../../../xal/model/alg/Tracker.html" title="class in xal.model.alg">Tracker</a></h3>
<code><a href="../../../xal/model/alg/Tracker.html#ATTRTAG_DEBUG">ATTRTAG_DEBUG</a>, <a href="../../../xal/model/alg/Tracker.html#ATTRTAG_RFGAP_PHASE">ATTRTAG_RFGAP_PHASE</a>, <a href="../../../xal/model/alg/Tracker.html#ATTRTAG_TYPE">ATTRTAG_TYPE</a>, <a href="../../../xal/model/alg/Tracker.html#ATTRTAG_UPDATE">ATTRTAG_UPDATE</a>, <a href="../../../xal/model/alg/Tracker.html#ATTRTAG_VER">ATTRTAG_VER</a>, <a href="../../../xal/model/alg/Tracker.html#NODETAG_ALG">NODETAG_ALG</a>, <a href="../../../xal/model/alg/Tracker.html#NODETAG_TRACKER">NODETAG_TRACKER</a>, <a href="../../../xal/model/alg/Tracker.html#TBL_PRIM_KEY_NAME">TBL_PRIM_KEY_NAME</a>, <a href="../../../xal/model/alg/Tracker.html#UPDATE_ALWAYS">UPDATE_ALWAYS</a>, <a href="../../../xal/model/alg/Tracker.html#UPDATE_CUSTOM">UPDATE_CUSTOM</a>, <a href="../../../xal/model/alg/Tracker.html#UPDATE_ENTRANCE">UPDATE_ENTRANCE</a>, <a href="../../../xal/model/alg/Tracker.html#UPDATE_ENTRANCEANDEXIT">UPDATE_ENTRANCEANDEXIT</a>, <a href="../../../xal/model/alg/Tracker.html#UPDATE_EXIT">UPDATE_EXIT</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#EnvTrackerAdapt--">EnvTrackerAdapt</a></span>()</code>
<div class="block">Creates a new, uninitialized instance of <code>EnvTrackerAdapt</code></div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#EnvTrackerAdapt-xal.model.alg.EnvTrackerAdapt-">EnvTrackerAdapt</a></span>(<a href="../../../xal/model/alg/EnvTrackerAdapt.html" title="class in xal.model.alg">EnvTrackerAdapt</a>&nbsp;sourceTracker)</code>
<div class="block">Copy constructor for EnvTrackerAdapt</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../xal/model/alg/EnvTrackerAdapt.html" title="class in xal.model.alg">EnvTrackerAdapt</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#copy--">copy</a></span>()</code>
<div class="block">Creates a deep copy of EnvTrackerAdapt</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#doPropagation-xal.model.IProbe-xal.model.IElement-">doPropagation</a></span>(<a href="../../../xal/model/IProbe.html" title="interface in xal.model">IProbe</a>&nbsp;ifcProbe,
             <a href="../../../xal/model/IElement.html" title="interface in xal.model">IElement</a>&nbsp;elem)</code>
<div class="block">Propagates the probe through the element using a second-order accurate
 adaptive step size algorithm for space charge calculations.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#getAccuracyOrder--">getAccuracyOrder</a></span>()</code>
<div class="block">Get the current accuracy order of the space charge stepping
 algorithm.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#getErrorTolerance--">getErrorTolerance</a></span>()</code>
<div class="block">Return the acceptable tolerance in the residual error between
 a full step and two half steps.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#getInitStepSize--">getInitStepSize</a></span>()</code>
<div class="block">Return the initial step size for this algorithm.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#getMatrixNorm--">getMatrixNorm</a></span>()</code>
<div class="block">Get the type of Lebesque norm used for matrices.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#getMaxIterations--">getMaxIterations</a></span>()</code>
<div class="block">Return the maximum allowable number of steps to progate a probe through
 an element.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#getMaxStepSize--">getMaxStepSize</a></span>()</code>
<div class="block">Return the maximum allowable step size.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#getMaxStepSizeDriftPmq--">getMaxStepSizeDriftPmq</a></span>()</code>
<div class="block">Return the maximum allowable step size.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#getSlackTolerance--">getSlackTolerance</a></span>()</code>
<div class="block">Step size adjustment slack tolerance.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#getStepSize--">getStepSize</a></span>()</code>
<div class="block">Return the current step size, that is, the step size currently
 used in the propagation.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#initialize--">initialize</a></span>()</code>
<div class="block">Initialize the algorithm object for propagation.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#load-xal.tools.data.DataAdaptor-">load</a></span>(<a href="../../../xal/tools/data/DataAdaptor.html" title="interface in xal.tools.data">DataAdaptor</a>&nbsp;daptArchive)</code>
<div class="block">Load the parameters of the algorithm from a data source exposing the
 <code>IArchive</code> interface.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#load-java.lang.String-xal.tools.data.EditContext-">load</a></span>(java.lang.String&nbsp;strPrimKeyVal,
    <a href="../../../xal/tools/data/EditContext.html" title="class in xal.tools.data">EditContext</a>&nbsp;ecTableData)</code>
<div class="block">Load the parameters of this <code>IAlgorithm</code> object from the
 table data in the given <code>EditContext</code>.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#save-xal.tools.data.DataAdaptor-">save</a></span>(<a href="../../../xal/tools/data/DataAdaptor.html" title="interface in xal.tools.data">DataAdaptor</a>&nbsp;daptArchive)</code>
<div class="block">Save the settings particular to this subclass of <code>Tracker</code>.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#setAccuracyOrder-int-">setAccuracyOrder</a></span>(int&nbsp;intOrder)</code>
<div class="block">Set the integration accuracy order for the underlying
 stepping algorithm.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#setErrorTolerance-double-">setErrorTolerance</a></span>(double&nbsp;dblErr)</code>
<div class="block">Set the acceptable error in the residual correlation matrix.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#setInitStepSize-double-">setInitStepSize</a></span>(double&nbsp;dblStepSize)</code>
<div class="block">Set the initial step size for applying space charge
 corrections.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#setMatrixNorm-int-">setMatrixNorm</a></span>(int&nbsp;enmNorm)</code>
<div class="block">Set the type of Lebesque norm used in the matrix calculations.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#setMaxIterations-int-">setMaxIterations</a></span>(int&nbsp;intMaxIter)</code>
<div class="block">Sets the maximum allowable number of steps to progate a probe through
 an element.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#setMaxStepSize-double-">setMaxStepSize</a></span>(double&nbsp;dblMaxStep)</code>
<div class="block">Set the maximum allowable step size.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#setMaxStepSizeDriftPmq-double-">setMaxStepSizeDriftPmq</a></span>(double&nbsp;dblMaxStepDriftPmq)</code>
<div class="block">Set the maximum allowable step size.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#setSlackTolerance-double-">setSlackTolerance</a></span>(double&nbsp;dblSlack)</code>
<div class="block">Set the slack size in the adaptive step size determination.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#setStepSize-double-">setStepSize</a></span>(double&nbsp;dblStepSize)</code>
<div class="block">Set the current step size for applying space charge
 corrections.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../xal/model/alg/EnvTrackerAdapt.html#stepThinElement-xal.model.probe.EnvelopeProbe-xal.model.IElement-">stepThinElement</a></span>(<a href="../../../xal/model/probe/EnvelopeProbe.html" title="class in xal.model.probe">EnvelopeProbe</a>&nbsp;probe,
               <a href="../../../xal/model/IElement.html" title="interface in xal.model">IElement</a>&nbsp;ifcElem)</code>
<div class="block">new stepThinElement by Sako, taken from EnvelopeTracker 
  Advances the probe state through a subsection of the element with the
  specified length.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.xal.model.alg.EnvelopeTrackerBase">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;xal.model.alg.<a href="../../../xal/model/alg/EnvelopeTrackerBase.html" title="class in xal.model.alg">EnvelopeTrackerBase</a></h3>
<code><a href="../../../xal/model/alg/EnvelopeTrackerBase.html#compEmitGrowthFunction-xal.model.alg.EnvelopeTrackerBase.PhasePlane-double-double-">compEmitGrowthFunction</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.html#compLongFourierTransform-double-">compLongFourierTransform</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.html#compScheffMatrix-double-xal.model.probe.EnvelopeProbe-xal.model.IElement-">compScheffMatrix</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.html#compTransFourierTransform-double-">compTransFourierTransform</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.html#correctLongSigmaPhaseSpread-xal.model.probe.EnvelopeProbe-xal.model.elem.IdealRfGap-">correctLongSigmaPhaseSpread</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.html#correctSigmaPhaseSpread-xal.model.probe.EnvelopeProbe-xal.model.elem.IdealRfGap-">correctSigmaPhaseSpread</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.html#correctTransFocusingPhaseSpread-xal.model.probe.EnvelopeProbe-xal.model.elem.IdealRfGap-">correctTransFocusingPhaseSpread</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.html#correctTransSigmaPhaseSpread-xal.model.probe.EnvelopeProbe-xal.model.elem.IdealRfGap-">correctTransSigmaPhaseSpread</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.html#effPhaseSpread-xal.model.probe.EnvelopeProbe-xal.model.elem.IdealRfGap-">effPhaseSpread</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.html#fourierLong1dGaussian-double-">fourierLong1dGaussian</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.html#fourierLong1dUniform-double-">fourierLong1dUniform</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.html#fourierLong3dGaussian-double-">fourierLong3dGaussian</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.html#fourierLong3dUniform-double-">fourierLong3dUniform</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.html#fourierLongTrace3d-double-">fourierLongTrace3d</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.html#fourierTrans1dGaussian-double-">fourierTrans1dGaussian</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.html#fourierTrans1dUniform-double-">fourierTrans1dUniform</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.html#fourierTrans3dGaussian-double-">fourierTrans3dGaussian</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.html#fourierTrans3dUniform-double-">fourierTrans3dUniform</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.html#fourierTransTrace3d-double-">fourierTransTrace3d</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.html#getEmitGrowthModel--">getEmitGrowthModel</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.html#getEmittanceGrowthFlag--">getEmittanceGrowthFlag</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.html#getSpaceChargeFlag--">getSpaceChargeFlag</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.html#modTransferMatrixForDisplError-double-double-double-xal.tools.beam.PhaseMatrix-">modTransferMatrixForDisplError</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.html#modTransferMatrixForEmitGrowth-double-xal.tools.beam.PhaseMatrix-">modTransferMatrixForEmitGrowth</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.html#phaseSpread-xal.model.probe.EnvelopeProbe-xal.model.elem.IdealRfGap-">phaseSpread</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.html#setEmitGrowthModel-xal.model.alg.EnvelopeTrackerBase.EmitGrowthModel-">setEmitGrowthModel</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.html#setEmittanceGrowth-boolean-">setEmittanceGrowth</a>, <a href="../../../xal/model/alg/EnvelopeTrackerBase.html#setUseSpacecharge-boolean-">setUseSpacecharge</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.xal.model.alg.Tracker">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;xal.model.alg.<a href="../../../xal/model/alg/Tracker.html" title="class in xal.model.alg">Tracker</a></h3>
<code><a href="../../../xal/model/alg/Tracker.html#advanceProbe-xal.model.IProbe-xal.model.IElement-double-">advanceProbe</a>, <a href="../../../xal/model/alg/Tracker.html#getDebugMode--">getDebugMode</a>, <a href="../../../xal/model/alg/Tracker.html#getElemPosition--">getElemPosition</a>, <a href="../../../xal/model/alg/Tracker.html#getProbeType--">getProbeType</a>, <a href="../../../xal/model/alg/Tracker.html#getProbeUpdatePolicy--">getProbeUpdatePolicy</a>, <a href="../../../xal/model/alg/Tracker.html#getStartElementId--">getStartElementId</a>, <a href="../../../xal/model/alg/Tracker.html#getStopElementId--">getStopElementId</a>, <a href="../../../xal/model/alg/Tracker.html#getType--">getType</a>, <a href="../../../xal/model/alg/Tracker.html#getVersion--">getVersion</a>, <a href="../../../xal/model/alg/Tracker.html#isStopElementIncluded--">isStopElementIncluded</a>, <a href="../../../xal/model/alg/Tracker.html#newFromEditContext-xal.smf.AcceleratorSeq-">newFromEditContext</a>, <a href="../../../xal/model/alg/Tracker.html#newFromEditContext-java.lang.String-xal.smf.AcceleratorSeq-">newFromEditContext</a>, <a href="../../../xal/model/alg/Tracker.html#newInstance-xal.tools.data.DataAdaptor-">newInstance</a>, <a href="../../../xal/model/alg/Tracker.html#propagate-xal.model.IProbe-xal.model.IElement-">propagate</a>, <a href="../../../xal/model/alg/Tracker.html#registerProbeType-java.lang.Class-">registerProbeType</a>, <a href="../../../xal/model/alg/Tracker.html#retractProbe-xal.model.IProbe-xal.model.IElement-double-">retractProbe</a>, <a href="../../../xal/model/alg/Tracker.html#setDebugMode-boolean-">setDebugMode</a>, <a href="../../../xal/model/alg/Tracker.html#setElemPosition-double-">setElemPosition</a>, <a href="../../../xal/model/alg/Tracker.html#setIncludeStopElement-boolean-">setIncludeStopElement</a>, <a href="../../../xal/model/alg/Tracker.html#setProbeUpdatePolicy-int-">setProbeUpdatePolicy</a>, <a href="../../../xal/model/alg/Tracker.html#setRfGapPhaseCalculation-boolean-">setRfGapPhaseCalculation</a>, <a href="../../../xal/model/alg/Tracker.html#setStartElementId-java.lang.String-">setStartElementId</a>, <a href="../../../xal/model/alg/Tracker.html#setStopElementId-java.lang.String-">setStopElementId</a>, <a href="../../../xal/model/alg/Tracker.html#unsetStartElementId--">unsetStartElementId</a>, <a href="../../../xal/model/alg/Tracker.html#unsetStopElementId--">unsetStopElementId</a>, <a href="../../../xal/model/alg/Tracker.html#useRfGapPhaseCalculation--">useRfGapPhaseCalculation</a>, <a href="../../../xal/model/alg/Tracker.html#validElement-xal.model.IElement-">validElement</a>, <a href="../../../xal/model/alg/Tracker.html#validProbe-xal.model.IProbe-">validProbe</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="NORM_LINF">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NORM_LINF</h4>
<pre>public static final&nbsp;int NORM_LINF</pre>
<div class="block">l-infinity norm</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#xal.model.alg.EnvTrackerAdapt.NORM_LINF">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="NORM_L1">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NORM_L1</h4>
<pre>public static final&nbsp;int NORM_L1</pre>
<div class="block">l-1 norm</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#xal.model.alg.EnvTrackerAdapt.NORM_L1">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="NORM_L2">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NORM_L2</h4>
<pre>public static final&nbsp;int NORM_L2</pre>
<div class="block">l-2 norm</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#xal.model.alg.EnvTrackerAdapt.NORM_L2">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="ACCUR_ERROR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ACCUR_ERROR</h4>
<pre>public static final&nbsp;int ACCUR_ERROR</pre>
<div class="block">Error condition in integration accuracy</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#xal.model.alg.EnvTrackerAdapt.ACCUR_ERROR">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="ACCUR_ORDER1">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ACCUR_ORDER1</h4>
<pre>public static final&nbsp;int ACCUR_ORDER1</pre>
<div class="block">1st order accurate integration algorithm</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#xal.model.alg.EnvTrackerAdapt.ACCUR_ORDER1">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="ACCUR_ORDER2">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ACCUR_ORDER2</h4>
<pre>public static final&nbsp;int ACCUR_ORDER2</pre>
<div class="block">2nd order accurate integration algorithm</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#xal.model.alg.EnvTrackerAdapt.ACCUR_ORDER2">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="ACCUR_RANGE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ACCUR_RANGE</h4>
<pre>public static final&nbsp;int ACCUR_RANGE</pre>
<div class="block">Range of avaible integration accuracies</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#xal.model.alg.EnvTrackerAdapt.ACCUR_RANGE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="s_strTypeId">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>s_strTypeId</h4>
<pre>public static final&nbsp;java.lang.String s_strTypeId</pre>
<div class="block">string type identifier for algorithm</div>
</li>
</ul>
<a name="s_intVersion">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>s_intVersion</h4>
<pre>public static final&nbsp;int s_intVersion</pre>
<div class="block">current algorithm version</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#xal.model.alg.EnvTrackerAdapt.s_intVersion">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="s_clsProbeType">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>s_clsProbeType</h4>
<pre>public static final&nbsp;java.lang.Class&lt;<a href="../../../xal/model/probe/EnvelopeProbe.html" title="class in xal.model.probe">EnvelopeProbe</a>&gt; s_clsProbeType</pre>
<div class="block">probe type recognized by this algorithm</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="EnvTrackerAdapt--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EnvTrackerAdapt</h4>
<pre>public&nbsp;EnvTrackerAdapt()</pre>
<div class="block">Creates a new, uninitialized instance of <code>EnvTrackerAdapt</code></div>
</li>
</ul>
<a name="EnvTrackerAdapt-xal.model.alg.EnvTrackerAdapt-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>EnvTrackerAdapt</h4>
<pre>public&nbsp;EnvTrackerAdapt(<a href="../../../xal/model/alg/EnvTrackerAdapt.html" title="class in xal.model.alg">EnvTrackerAdapt</a>&nbsp;sourceTracker)</pre>
<div class="block">Copy constructor for EnvTrackerAdapt</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sourceTracker</code> - Tracker that is being copied</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="copy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>copy</h4>
<pre>public&nbsp;<a href="../../../xal/model/alg/EnvTrackerAdapt.html" title="class in xal.model.alg">EnvTrackerAdapt</a>&nbsp;copy()</pre>
<div class="block">Creates a deep copy of EnvTrackerAdapt</div>
</li>
</ul>
<a name="initialize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialize</h4>
<pre>public&nbsp;void&nbsp;initialize()</pre>
<div class="block">Initialize the algorithm object for propagation.
 
 Internal state of algorithm object is initialized:
 - Step size is set to initial step size
 - Start/Stop elements are inspected</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../xal/model/IAlgorithm.html#initialize--">initialize</a></code>&nbsp;in interface&nbsp;<code><a href="../../../xal/model/IAlgorithm.html" title="interface in xal.model">IAlgorithm</a></code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../xal/model/alg/Tracker.html#initialize--">initialize</a></code>&nbsp;in class&nbsp;<code><a href="../../../xal/model/alg/Tracker.html" title="class in xal.model.alg">Tracker</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../xal/model/IAlgorithm.html#initialize--"><code>IAlgorithm.initialize()</code></a></dd>
</dl>
</li>
</ul>
<a name="setInitStepSize-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setInitStepSize</h4>
<pre>public&nbsp;void&nbsp;setInitStepSize(double&nbsp;dblStepSize)</pre>
<div class="block">Set the initial step size for applying space charge
 corrections.  Note that the step size will be modified
 as the algorithm progresses according to the adaptation
 rule.
 
 The current step size is reset to this value anytime the
 <code>initialize()</code> method is called.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dblStepSize</code> - initial step size in <m>meters</m></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../xal/model/alg/EnvTrackerAdapt.html#setInitStepSize-double-"><code>setInitStepSize(double)</code></a>, 
<a href="../../../xal/model/alg/EnvTrackerAdapt.html#initialize--"><code>initialize()</code></a></dd>
</dl>
</li>
</ul>
<a name="setStepSize-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setStepSize</h4>
<pre>public&nbsp;void&nbsp;setStepSize(double&nbsp;dblStepSize)</pre>
<div class="block">Set the current step size for applying space charge
 corrections.  Note that the step size will be modified
 as the algorithm progresses according to the adaptation
 rule.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../xal/model/alg/EnvelopeTrackerBase.html#setStepSize-double-">setStepSize</a></code>&nbsp;in class&nbsp;<code><a href="../../../xal/model/alg/EnvelopeTrackerBase.html" title="class in xal.model.alg">EnvelopeTrackerBase</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dblStepSize</code> - initial step size in <m>meters</m></dd>
</dl>
</li>
</ul>
<a name="setMaxStepSize-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMaxStepSize</h4>
<pre>public&nbsp;void&nbsp;setMaxStepSize(double&nbsp;dblMaxStep)</pre>
<div class="block">Set the maximum allowable step size.  If this value is
 set then the step sizing algorithm will never generate
 steps larger than the provided value regardless of the 
 residual error.  If this value is
 cleared to zero, then the step size is unbound.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dblMaxStep</code> - maximum allowable step size in <b>meters</b></dd>
</dl>
</li>
</ul>
<a name="setMaxStepSizeDriftPmq-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMaxStepSizeDriftPmq</h4>
<pre>public&nbsp;void&nbsp;setMaxStepSizeDriftPmq(double&nbsp;dblMaxStepDriftPmq)</pre>
<div class="block">Set the maximum allowable step size.  If this value is
 set then the step sizing algorithm will never generate
 steps larger than the provided value regardless of the 
 residual error.  If this value is
 cleared to zero, then the step size is unbound.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dblMaxStepDriftPmq</code> - maximum allowable step size in <b>meters</b></dd>
</dl>
</li>
</ul>
<a name="setMaxIterations-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMaxIterations</h4>
<pre>public&nbsp;void&nbsp;setMaxIterations(int&nbsp;intMaxIter)</pre>
<div class="block">Sets the maximum allowable number of steps to progate a probe through
 an element.  If the number of steps increases beyond this number a
 race condition is assumed and an exception is thrown during the 
 propagation.
 
 If the value is zero then no maximum step count is enforced.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>intMaxIter</code> - maximum alllowable single-element step count</dd>
</dl>
</li>
</ul>
<a name="setErrorTolerance-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setErrorTolerance</h4>
<pre>public&nbsp;void&nbsp;setErrorTolerance(double&nbsp;dblErr)</pre>
<div class="block">Set the acceptable error in the residual correlation matrix.
 The residual correlation matrix is determined by going a full
 step, then two half step and taking the difference in the 
 resulting correlation matrices.  
 
 The step size is continually adjusted to keep the resulting
 residual error at or about this given tolerance value.  Thus,
 yeild a more accurate solution however they also result in small 
 step sizes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dblErr</code> - acceptable residual error</dd>
</dl>
</li>
</ul>
<a name="setAccuracyOrder-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAccuracyOrder</h4>
<pre>public&nbsp;void&nbsp;setAccuracyOrder(int&nbsp;intOrder)</pre>
<div class="block">Set the integration accuracy order for the underlying
 stepping algorithm.  For example, when using a second-order
 accurate algorithm the residual error is of the order
 <i>h</i>^2 where <i>h</i> is the step size.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>intOrder</code> - integration order</dd>
</dl>
</li>
</ul>
<a name="setSlackTolerance-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSlackTolerance</h4>
<pre>public&nbsp;void&nbsp;setSlackTolerance(double&nbsp;dblSlack)</pre>
<div class="block">Set the slack size in the adaptive step size determination.  That is,
 if the suggested new step size differs only by this percentage, then
 no action is taken.  Explicitly, if the new step size lies in the 
 interval [h-dblSlack, h+dblSlack], then nothing is done.
 
 This feature prevents excessive micro-management 
 of the step size.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dblSlack</code> - size of the slack region in <b>meters</b></dd>
</dl>
</li>
</ul>
<a name="setMatrixNorm-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMatrixNorm</h4>
<pre>public&nbsp;void&nbsp;setMatrixNorm(int&nbsp;enmNorm)</pre>
<div class="block">Set the type of Lebesque norm used in the matrix calculations.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>enmNorm</code> - enumeration constant of family <code>EnvTrackerAdapt.NORM_*</code></dd>
</dl>
</li>
</ul>
<a name="getInitStepSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInitStepSize</h4>
<pre>public&nbsp;double&nbsp;getInitStepSize()</pre>
<div class="block">Return the initial step size for this algorithm.  This is the
 step size when beginning a propagation.  Note that the atual
 step size used afterwards will likely change due to the adaptive
 nature of the algorithm.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>initial step size in <b>meters</b></dd>
</dl>
</li>
</ul>
<a name="getStepSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStepSize</h4>
<pre>public&nbsp;double&nbsp;getStepSize()</pre>
<div class="block">Return the current step size, that is, the step size currently
 used in the propagation.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../xal/model/alg/EnvelopeTrackerBase.html#getStepSize--">getStepSize</a></code>&nbsp;in class&nbsp;<code><a href="../../../xal/model/alg/EnvelopeTrackerBase.html" title="class in xal.model.alg">EnvelopeTrackerBase</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the current step size in <b>meters</b></dd>
</dl>
</li>
</ul>
<a name="getMaxIterations--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxIterations</h4>
<pre>public&nbsp;int&nbsp;getMaxIterations()</pre>
<div class="block">Return the maximum allowable number of steps to progate a probe through
 an element.  If the number of steps increases beyond this number a
 race condition is assumed and an exception is thrown during the 
 propagation.
 
 If the value is zero then no maximum step count is enforced.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>maximum alllowable step count while propagating thru a single element</dd>
</dl>
</li>
</ul>
<a name="getMaxStepSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxStepSize</h4>
<pre>public&nbsp;double&nbsp;getMaxStepSize()</pre>
<div class="block">Return the maximum allowable step size.  The step sizing aglorithm
 is bound by this value, or unbounded if zero.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>maximum allowable step size in <b>meters</b></dd>
</dl>
</li>
</ul>
<a name="getMaxStepSizeDriftPmq--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxStepSizeDriftPmq</h4>
<pre>public&nbsp;double&nbsp;getMaxStepSizeDriftPmq()</pre>
<div class="block">Return the maximum allowable step size.  The step sizing aglorithm
 is bound by this value, or unbounded if zero.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>maximum allowable step size in <b>meters</b></dd>
</dl>
</li>
</ul>
<a name="getAccuracyOrder--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAccuracyOrder</h4>
<pre>public&nbsp;int&nbsp;getAccuracyOrder()</pre>
<div class="block">Get the current accuracy order of the space charge stepping
 algorithm.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>order of the integration algorithm accuracy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../xal/model/alg/EnvTrackerAdapt.html#setAccuracyOrder-int-"><code>setAccuracyOrder(int)</code></a></dd>
</dl>
</li>
</ul>
<a name="getErrorTolerance--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getErrorTolerance</h4>
<pre>public&nbsp;double&nbsp;getErrorTolerance()</pre>
<div class="block">Return the acceptable tolerance in the residual error between
 a full step and two half steps.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>tolerable residual error</dd>
</dl>
</li>
</ul>
<a name="getSlackTolerance--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSlackTolerance</h4>
<pre>public&nbsp;double&nbsp;getSlackTolerance()</pre>
<div class="block">Step size adjustment slack tolerance.  If adjustments in the step size
 are less than this percentage, we do nothing.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>size of the slack region in <b>meters</b></dd>
</dl>
</li>
</ul>
<a name="getMatrixNorm--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMatrixNorm</h4>
<pre>public&nbsp;int&nbsp;getMatrixNorm()</pre>
<div class="block">Get the type of Lebesque norm used for matrices.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0 for l-inf norm, 1 for l-1 norm, 2 for l2 norm</dd>
</dl>
</li>
</ul>
<a name="doPropagation-xal.model.IProbe-xal.model.IElement-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doPropagation</h4>
<pre>public&nbsp;void&nbsp;doPropagation(<a href="../../../xal/model/IProbe.html" title="interface in xal.model">IProbe</a>&nbsp;ifcProbe,
                          <a href="../../../xal/model/IElement.html" title="interface in xal.model">IElement</a>&nbsp;elem)
                   throws <a href="../../../xal/model/ModelException.html" title="class in xal.model">ModelException</a></pre>
<div class="block">Propagates the probe through the element using a second-order accurate
 adaptive step size algorithm for space charge calculations.
 
 The new probe state is first computed by taken a full step with the second-
 order accurate transfer matrix with includes space charge effect.  The algorithm
 then computes the new probe state by taking two half-steps. The residual
 error (correlation matrix) between the two states is computed.  If the norm of 
 the matrix is below the error tolerance (@see #getErrorTolerance) the step may
 be lengthened.  If the residual error is greater than tolerance the step size
 must be shortened and the new probe state recomputed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../xal/model/alg/Tracker.html#doPropagation-xal.model.IProbe-xal.model.IElement-">doPropagation</a></code>&nbsp;in class&nbsp;<code><a href="../../../xal/model/alg/Tracker.html" title="class in xal.model.alg">Tracker</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ifcProbe</code> - probe to propagate</dd>
<dd><code>elem</code> - element acting on probe</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../xal/model/ModelException.html" title="class in xal.model">ModelException</a></code> - invalid probe type or error in advancing probe</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../xal/model/alg/Tracker.html#validProbe-xal.model.IProbe-"><code>Tracker.validProbe(IProbe)</code></a></dd>
</dl>
</li>
</ul>
<a name="load-java.lang.String-xal.tools.data.EditContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>load</h4>
<pre>public&nbsp;void&nbsp;load(java.lang.String&nbsp;strPrimKeyVal,
                 <a href="../../../xal/tools/data/EditContext.html" title="class in xal.tools.data">EditContext</a>&nbsp;ecTableData)
          throws <a href="../../../xal/tools/data/DataFormatException.html" title="class in xal.tools.data">DataFormatException</a></pre>
<div class="block">Load the parameters of this <code>IAlgorithm</code> object from the
 table data in the given <code>EditContext</code>.  
 
 Here we load only the parameters specific to the base class.  It is expected
 that Subclasses should override this method to recover the data particular 
 to there own operation.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../xal/tools/data/IContextAware.html#load-java.lang.String-xal.tools.data.EditContext-">load</a></code>&nbsp;in interface&nbsp;<code><a href="../../../xal/tools/data/IContextAware.html" title="interface in xal.tools.data">IContextAware</a></code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../xal/model/alg/EnvelopeTrackerBase.html#load-java.lang.String-xal.tools.data.EditContext-">load</a></code>&nbsp;in class&nbsp;<code><a href="../../../xal/model/alg/EnvelopeTrackerBase.html" title="class in xal.model.alg">EnvelopeTrackerBase</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>strPrimKeyVal</code> - primary key value specifying the name of the data record</dd>
<dd><code>ecTableData</code> - EditContext containing table data</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../xal/tools/data/DataFormatException.html" title="class in xal.tools.data">DataFormatException</a></code> - bad data format - error in reading</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../xal/tools/data/IContextAware.html#load-java.lang.String-xal.tools.data.EditContext-"><code>IContextAware.load(String, xal.tools.data.EditContext)</code></a></dd>
</dl>
</li>
</ul>
<a name="load-xal.tools.data.DataAdaptor-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>load</h4>
<pre>public&nbsp;void&nbsp;load(<a href="../../../xal/tools/data/DataAdaptor.html" title="interface in xal.tools.data">DataAdaptor</a>&nbsp;daptArchive)
          throws <a href="../../../xal/tools/data/DataFormatException.html" title="class in xal.tools.data">DataFormatException</a></pre>
<div class="block">Load the parameters of the algorithm from a data source exposing the
 <code>IArchive</code> interface.
 The superclass <code>load</code> method is called first, then the properties
 particular to <code>EnvTrackerAdapt<code> are loaded.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../xal/tools/data/IArchive.html#load-xal.tools.data.DataAdaptor-">load</a></code>&nbsp;in interface&nbsp;<code><a href="../../../xal/tools/data/IArchive.html" title="interface in xal.tools.data">IArchive</a></code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../xal/model/alg/EnvelopeTrackerBase.html#load-xal.tools.data.DataAdaptor-">load</a></code>&nbsp;in class&nbsp;<code><a href="../../../xal/model/alg/EnvelopeTrackerBase.html" title="class in xal.model.alg">EnvelopeTrackerBase</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>daptArchive</code> - data source containing algorithm configuration</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../xal/tools/data/DataFormatException.html" title="class in xal.tools.data">DataFormatException</a></code> - bad format in algorithm data</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../xal/tools/data/IArchive.html#load-xal.tools.data.DataAdaptor-"><code>IArchive.load(xal.tools.data.DataAdaptor)</code></a></dd>
</dl>
</li>
</ul>
<a name="save-xal.tools.data.DataAdaptor-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>save</h4>
<pre>public&nbsp;void&nbsp;save(<a href="../../../xal/tools/data/DataAdaptor.html" title="interface in xal.tools.data">DataAdaptor</a>&nbsp;daptArchive)</pre>
<div class="block">Save the settings particular to this subclass of <code>Tracker</code>.
 The superclass <code>save</code> method is called first, then the properties
 particular to <code>EnvTrackerAdapt<code> are saved.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../xal/tools/data/IArchive.html#save-xal.tools.data.DataAdaptor-">save</a></code>&nbsp;in interface&nbsp;<code><a href="../../../xal/tools/data/IArchive.html" title="interface in xal.tools.data">IArchive</a></code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../xal/model/alg/EnvelopeTrackerBase.html#save-xal.tools.data.DataAdaptor-">save</a></code>&nbsp;in class&nbsp;<code><a href="../../../xal/model/alg/EnvelopeTrackerBase.html" title="class in xal.model.alg">EnvelopeTrackerBase</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>daptArchive</code> - data sink exposing <code>IArchive</code> interface</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../xal/tools/data/IArchive.html#save-xal.tools.data.DataAdaptor-"><code>IArchive.save(xal.tools.data.DataAdaptor)</code></a></dd>
</dl>
</li>
</ul>
<a name="stepThinElement-xal.model.probe.EnvelopeProbe-xal.model.IElement-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>stepThinElement</h4>
<pre>protected&nbsp;void&nbsp;stepThinElement(<a href="../../../xal/model/probe/EnvelopeProbe.html" title="class in xal.model.probe">EnvelopeProbe</a>&nbsp;probe,
                               <a href="../../../xal/model/IElement.html" title="interface in xal.model">IElement</a>&nbsp;ifcElem)
                        throws <a href="../../../xal/model/ModelException.html" title="class in xal.model">ModelException</a></pre>
<div class="block">new stepThinElement by Sako, taken from EnvelopeTracker 
  Advances the probe state through a subsection of the element with the
  specified length.  Applies a space charge kick at the end of the element
  subsection for any probe having nonzero beam current.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ifcElem</code> - interface to the beam element</dd>
<dd><code>probe</code> - interface to the probe</dd>
<dd><code>dblLen</code> - length of element subsection to advance through</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../xal/model/ModelException.html" title="class in xal.model">ModelException</a></code> - bad element transfer matrix/corrupt probe state</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../xal/model/alg/EnvelopeTrackerPmqDipole.html" title="class in xal.model.alg"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../xal/model/alg/ParticleTracker.html" title="class in xal.model.alg"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?xal/model/alg/EnvTrackerAdapt.html" target="_top">Frames</a></li>
<li><a href="EnvTrackerAdapt.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.xal.model.alg.EnvelopeTrackerBase">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
